!function(t){var e={};function s(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([,function(t,e,s){"use strict";s.r(e),s.d(e,"Canvas",function(){return i}),s.d(e,"Collision",function(){return n}),s.d(e,"Craters",function(){return d}),s.d(e,"Entity",function(){return o}),s.d(e,"Game",function(){return a}),s.d(e,"Loader",function(){return u}),s.d(e,"Loop",function(){return r}),s.d(e,"Sound",function(){return h}),s.d(e,"Sprite",function(){return c});class n{static detect(t,e){var s=t.state.pos.x,n=t.state.pos.y,r=s+t.state.size.x,i=n+t.state.size.y,a=e.state.pos.x,o=e.state.pos.y,c=a+e.state.size.x,u=o+e.state.size.y;return!(i<o||n>u||r<a||s>c)}}class r{constructor(t,e){var s={},n=1e3/e,r=window.performance.now(),i={new:{frameCount:0,startTime:r,sinceStart:0},old:{frameCount:0,startTime:r,sineStart:0}},a="new";return s.fps=0,s.main=function(o){s.stopLoop=window.requestAnimationFrame(s.main);var c,u,h=o,d=h-r;if(d>n){for(var l in r=h-d%n,i)++i[l].frameCount,i[l].sinceStart=h-i[l].startTime;c=i[a],s.fps=Math.round(1e3/(c.sinceStart/c.frameCount)*100)/100,u=i.new.frameCount===i.old.frameCount?5*e:10*e,c.frameCount>u&&(i[a].frameCount=0,i[a].startTime=h,i[a].sinceStart=0,a="new"===a?"old":"new"),t.update(t,h),t.render(t,h)}},s.main(),s}}class i{constructor(t,e,s){s=document.querySelector(s||"body");var n=document.createElement("canvas"),r=n.getContext("2d"),i=window.devicePixelRatio/["webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio"].reduce(function(t,e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:1});return n.width=Math.round(t*i),n.height=Math.round(e*i),n.style.width=t+"px",n.style.height=e+"px",r.setTransform(i,0,0,i,0,0),s.insertBefore(n,s.firstChild),n}}class a{constructor(t,e,s,n,r){this.entities=[],this.state={container:t,size:{x:10,y:10},bgcolor:"rgba(0,0,0,0)",color:"#ff0",font:"1em Arial"}}update(){for(var t=0;t<this.entities.length;t++)this.entities[t].update()}render(){for(var t=0;t<this.entities.length;t++)this.entities[t].render()}clearContext(t,e){t.clearRect(0,0,e.x,e.y)}}class o extends a{constructor(){super(),this.state={size:{x:10,y:10},pos:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},radius:10,angle:0}}update(){super.update(),this.state.vel.x+=this.state.accel.x,this.state.vel.y+=this.state.accel.y,this.state.pos.x+=this.state.vel.x,this.state.pos.y+=this.state.vel.y}}class c extends o{constructor(t,e){super(),this.scope=t,this.state.pos=e.pos||{x:0,y:0},this.state.crop={x:0,y:0},this.state.size=e.size||{x:0,y:0},this.state.frames=e.frames||[],this.state.angle=e.angle||0,this.state.image=e.image||new Image,this.state.delay=e.delay||5,this.state.tick=e.tick||0,this.state.orientation=e.orientation||"horizontal"}update(){super.update(),this.state.tick<=0&&("vertical"===this.orientation?(this.state.crop.y=this.state.frames.shift(),this.state.frames.push(this.state.crop.y)):(this.state.crop.x=this.state.frames.shift(),this.state.frames.push(this.state.crop.x)),this.state.tick=this.state.delay),this.state.tick--}render(){super.render(),this.scope.context.save(),this.scope.context.translate(this.state.crop.x+this.state.size.x/2,this.state.crop.y+this.state.size.y/2),this.scope.context.rotate(this.state.angle*(Math.PI/180)),this.scope.context.translate(-(this.state.crop.x+this.state.size.x/2),-(this.state.crop.y+this.state.size.y/2)),this.scope.context.drawImage(this.state.image,this.state.crop.x*this.state.size.x,this.state.crop.y*this.state.size.y,this.state.size.x,this.state.size.y,this.state.pos.x,this.state.pos.y,this.state.size.x,this.state.size.y),this.scope.context.restore()}}class u{constructor(){this.rescache={}}load(t,e){var s=this;t instanceof Array?t.forEach(function(t){s.rescache[t]=!1,s.fetch(t,e)}):(s.rescache[t]=!1,s.fetch(t,e))}fetch(t,e){var s=this;if(s.rescache[t])return s.rescache[t];var n=new Image;n.onload=function(){s.rescache[t]=n,s.ready(e)},n.src=t}ready(t){if("function"==typeof t){var e=!0;for(var s in this.rescache)Object.prototype.hasOwnProperty.call(this.rescache,s)&&!this.rescache[s]&&(e=!1);e&&t()}}}class h{constructor(){this.sounds={},this.instances=[],this.defaultVolume=1}load(t,e,s){if(this.sounds[t]=new Audio(e),"function"!=typeof s)return new Promise((e,s)=>{this.sounds[t].addEventListener("canplaythrough",e),this.sounds[t].addEventListener("error",s)});this.sounds[t].addEventListener("canplaythrough",s)}remove(t){void 0!==this.sounds&&delete this.sounds[t]}unlock(t,e,s,n){var r=this,i=["touchstart","touchend","mousedown","keydown"],a=function a(){i.forEach(function(t){document.body.removeEventListener(t,a)}),r.play(t,e,s,n)};i.forEach(function(t){document.body.addEventListener(t,a,!1)})}play(t,e,s,n){if(n=n||!1,void 0===this.sounds[t])return console.error("Can't find sound called '"+t+"'."),!1;var r=this.sounds[t].cloneNode(!0);return r.volume="number"==typeof s?s:this.defaultVolume,r.loop=n,r.play(),this.instances.push(r),r.addEventListener("ended",()=>{var t=this.instances.indexOf(r);-1!==t&&this.instances.splice(t,1)}),"function"==typeof e?(r.addEventListener("ended",e),!0):new Promise((t,e)=>r.addEventListener("ended",t))}stopAll(){var t=this.instances.slice();for(var e of t)e.pause(),e.dispatchEvent(new Event("ended"))}}Number.prototype.boundary=function(t,e){return Math.min(Math.max(this,t),e)};class d{static version(){return"0.0.0.5"}}}]);