! function(t) {
    var e = {};

    function n(s) {
        if (e[s]) return e[s].exports;
        var i = e[s] = {
            i: s,
            l: !1,
            exports: {}
        };
        return t[s].call(i.exports, i, i.exports, n), i.l = !0, i.exports
    }
    n.m = t, n.c = e, n.d = function(t, e, s) {
        n.o(t, e) || Object.defineProperty(t, e, {
            enumerable: !0,
            get: s
        })
    }, n.r = function(t) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }, n.t = function(t, e) {
        if (1 & e && (t = n(t)), 8 & e) return t;
        if (4 & e && "object" == typeof t && t && t.__esModule) return t;
        var s = Object.create(null);
        if (n.r(s), Object.defineProperty(s, "default", {
                enumerable: !0,
                value: t
            }), 2 & e && "string" != typeof t)
            for (var i in t) n.d(s, i, function(e) {
                return t[e]
            }.bind(null, i));
        return s
    }, n.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default
        } : function() {
            return t
        };
        return n.d(e, "a", e), e
    }, n.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }, n.p = "", n(n.s = 8)
}([function(t, e, n) {
    t.exports = n(9)
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    }), n.d(e, "b", function() {
        return s
    }), n.d(e, "c", function() {
        return r
    });
    class s {
        constructor(t, e, n, s, i) {
            this.entities = [], this.state = {
                container: t,
                size: {
                    x: 512,
                    y: 512
                },
                gravity: {
                    x: 0,
                    y: 0
                },
                friction: {
                    x: 0,
                    y: 0
                }
            }
        }
        addObject(t) {
            this.entities.push(t)
        }
        removeObject(t) {
            this.entities.splice(t, 1)
        }
        update() {
            this.entities.forEach(t => {
                switch (t.update(), t.type) {
                    case "dynamic":
                        t.state.vel.x += t.state.accel.x + (t.state.gravity.x + this.state.gravity.x), t.state.vel.y += t.state.accel.y + (t.state.gravity.y + this.state.gravity.y), t.state.pos.x += t.state.vel.x, t.state.pos.y += t.state.vel.y;
                        var e = t.state.friction.x,
                            n = t.state.vel.x + e,
                            s = t.state.vel.x - e,
                            i = t.state.friction.y,
                            r = t.state.vel.y + i,
                            o = t.state.vel.y - i;
                        t.state.vel.x = n < 0 ? n : s > 0 ? s : 0, t.state.vel.y = r < 0 ? r : o > 0 ? o : 0;
                        break;
                    case "kinematic":
                        t.state.vel.x += t.state.accel.x, t.state.vel.y += t.state.accel.y, t.state.pos.x += t.state.vel.x, t.state.pos.y += t.state.vel.y
                }
            })
        }
        render() {
            this.entities.forEach(t => {
                t.render()
            })
        }
    }
    class i extends s {
        constructor() {
            super(), this.state.size = {
                x: 10,
                y: 10
            }, this.state.pos = {
                x: 0,
                y: 0
            }, this.state.vel = {
                x: 0,
                y: 0
            }, this.state.accel = {
                x: 0,
                y: 0
            }, this.state.radius = 10, this.state.angle = 0, this.type = "dynamic"
        }
    }
    class r extends i {
        constructor(t, e) {
            super(), this.scope = t, this.state.pos = e.pos || {
                x: 0,
                y: 0
            }, this.state.crop = {
                x: 0,
                y: 0
            }, this.state.size = e.size || {
                x: 0,
                y: 0
            }, this.state.frames = e.frames || [], this.state.angle = e.angle || 0, this.state.image = e.image || new Image, this.state.delay = e.delay || 5, this.state.tick = e.tick || 0, this.state.orientation = e.orientation || "horizontal"
        }
        update() {
            super.update(), this.state.tick <= 0 && ("vertical" === this.orientation ? (this.state.crop.y = this.state.frames.shift(), this.state.frames.push(this.state.crop.y)) : (this.state.crop.x = this.state.frames.shift(), this.state.frames.push(this.state.crop.x)), this.state.tick = this.state.delay), this.state.tick--
        }
        render() {
            super.render(), this.scope.context.save(), this.scope.context.translate(this.state.crop.x + this.state.size.x / 2, this.state.crop.y + this.state.size.y / 2), this.scope.context.rotate(this.state.angle * (Math.PI / 180)), this.scope.context.translate(-(this.state.crop.x + this.state.size.x / 2), -(this.state.crop.y + this.state.size.y / 2)), this.scope.context.drawImage(this.state.image, this.state.crop.x * this.state.size.x, this.state.crop.y * this.state.size.y, this.state.size.x, this.state.size.y, this.state.pos.x, this.state.pos.y, this.state.size.x, this.state.size.y), this.scope.context.restore()
        }
    }
}, function(t, e, n) {
    "use strict";
    n.r(e), n.d(e, "boundary", function() {
        return a
    }), n.d(e, "degToRad", function() {
        return s
    }), n.d(e, "radToDeg", function() {
        return i
    }), n.d(e, "distance", function() {
        return r
    }), n.d(e, "map", function() {
        return o
    });
    const s = function(t) {
            return t * Math.PI / 180
        },
        i = function(t) {
            return 180 * t / Math.PI
        },
        r = function(t, e, n, s) {
            return Math.sqrt((n - t) * (n - t) + (s - e) * (s - e))
        },
        o = function(t, e, n, s, i) {
            return s + (i - s) * (t - e) / (n - e)
        },
        a = function(t, e, n) {
            return Math.min(Math.max(t, e), n)
        }
}, function(t, e) {
    var n;
    n = function() {
        return this
    }();
    try {
        n = n || new Function("return this")()
    } catch (t) {
        "object" == typeof window && (n = window)
    }
    t.exports = n
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return i
    }), n.d(e, "b", function() {
        return s
    });
    class s {
        constructor(t, e) {
            var n = {
                elapsed: 0,
                tframe: 1e3 / e,
                before: window.performance.now(),
                main: function() {
                    n.startLoop = window.requestAnimationFrame(n.main), n.fps = Math.round(1e3 / (window.performance.now() - n.before) * 100 / 100), window.performance.now() < n.before + n.tframe || (n.before = window.performance.now(), n.stopLoop = () => {
                        window.cancelAnimationFrame(n.startLoop)
                    }, t.update(n.elapsed, n.fps), t.render(n.elapsed, n.fps), n.elapsed++)
                }
            };
            return n.main(), n
        }
    }
    class i {
        constructor(t, e, n) {
            n = document.querySelector(n || "body");
            var s = document.createElement("canvas"),
                i = s.getContext("2d"),
                r = window.devicePixelRatio / ["webkitBackingStorePixelRatio", "mozBackingStorePixelRatio", "msBackingStorePixelRatio", "oBackingStorePixelRatio", "backingStorePixelRatio"].reduce(function(t, e) {
                    return Object.prototype.hasOwnProperty.call(i, e) ? i[e] : 1
                });
            return s.width = Math.round(t * r), s.height = Math.round(e * r), s.style.width = t + "px", s.style.height = e + "px", i.setTransform(r, 0, 0, r, 0, 0), n.insertBefore(s, n.firstChild), s.context = s.getContext("2d"), s.resize = (t, e) => {
                s.style.width = e.x + "px", s.style.height = e.y + "px", s.width = Math.round(e.x * r), s.height = Math.round(e.y * r), i.setTransform(r, 0, 0, r, 0, 0), t.state.size.x = e.x, t.state.size.y = e.y
            }, s.clear = (t, e, n, i) => {
                t = t || 0, e = e || 0, n = n || s.width, i = i || s.height, s.context.clearRect(t, e, n, i)
            }, s.camera = (t, e) => {
                s.context.setTransform(1, 0, 0, 1, 0, 0), s.context.translate(-t, -e)
            }, s
        }
    }
}, function(t, e, n) {
    "use strict";
    n.r(e), n.d(e, "Vector", function() {
        return i
    });
    var s = n(2);
    const i = function(t, e) {
        this.x = t || 0, this.y = e || 0
    };
    i.prototype = {
        clone: function() {
            return new i(this.x, this.y)
        },
        set: function(t, e) {
            return "x" === t ? this.x = e : "y" === t && (this.y = e), this
        },
        add: function() {
            let t, e, n = arguments;
            if (1 === n.length) {
                let s = n[0];
                "object" == typeof s && (t = s.x, e = s.y)
            } else 2 === n.length && "number" == typeof n[0] && "number" == typeof n[1] && (t = n[0], e = n[1]);
            return this.x += t, this.y += e, this
        },
        subtract: function(t) {
            return this.x -= t.x, this.y -= t.y, this
        },
        multiply: function(t) {
            return "object" == typeof t ? (this.x *= t.x, this.y *= t.y) : "number" == typeof t && (this.x *= t, this.y *= t), this
        },
        magnitude: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y)
        },
        magnitudeSq: function() {
            return this.x * this.x + this.y * this.y
        },
        negate: function() {
            return this.x = -this.x, this.y = -this.y, this
        },
        rotate: function(t) {
            let e = Math.sin(t),
                n = Math.cos(t),
                s = this.x * n - this.y * e,
                i = this.x * e + this.y * n;
            return this.x = s, this.y = i, this
        },
        dot: function(t) {
            return this.x * t.x + this.y * t.y
        },
        cross: function(t) {
            return this.x * t.y - this.y * t.x
        },
        angleTo: function(t) {
            let e = this.magnitude(),
                n = t.magnitude(),
                s = this.dot(t);
            return Math.acos(s / (e * n))
        },
        getAngle: function(t) {
            if ("DEGREES" === t) return Object(s.radToDeg)(Math.atan(this.y / this.x));
            let e = Math.atan2(this.y, this.x);
            return e < 0 ? 2 * Math.PI + e : e
        },
        normalize: function() {
            let t = this.magnitude();
            return this.x /= t, this.y /= t, this
        },
        perp: function(t) {
            if ("right" === t) {
                let t = this.x;
                this.x = this.y, this.y = -t
            } else {
                let t = this.x;
                this.x = -this.y, this.y = t
            }
            return this
        },
        distanceTo: function(t) {
            return Math.sqrt((t.x - this.x) * (t.x - this.x) + (t.y - this.y) * (t.y - this.y))
        },
        scalarProject: function(t) {
            return this.dot(t) / t.magnitude()
        },
        scalarProjectUnit: function(t) {
            return this.dot(t)
        },
        vectorProject: function(t) {
            let e = this.dot(t) / t.magnitudeSq();
            return this.x = t.x * e, this.y = t.y * e, this
        },
        vectorProjectUnit: function(t) {
            let e = this.dot(t);
            return this.x = t.x * e, this.y = t.y * e, this
        }
    }, i.prototype.translate = i.prototype.add;
    i.add = function(t, e) {
        return new i(t.x + e.x, t.y + e.y)
    }, i.subtract = function(t, e) {
        return new i(t.x - e.x, t.y - e.y)
    }, i.multiply = function(t, e) {
        return "number" == typeof t && "number" == typeof e ? t * e : "object" == typeof t && "number" == typeof e ? new i(t.x * e, t.y * e) : "object" == typeof e && "number" == typeof t ? new i(t * e.x, t * e.y) : new i(t.x * e.x, t.y * e.y)
    }, i.dot = function(t, e) {
        return t.x * e.x + t.y * e.y
    }, i.angleBetween = function(t, e) {
        let n = t.magnitude(),
            s = e.magnitude(),
            i = t.dot(e);
        return Math.acos(i / (n * s))
    }, i.perp = function(t, e) {
        switch (e) {
            case "right":
                return new i(t.y, -t.x);
            default:
                return new i(-t.y, t.x)
        }
    }, i.negate = function(t) {
        return new i(-t.x, -t.y)
    }, e.default = function(t, e) {
        return new i(t, e)
    }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return s
    });
    class s {
        constructor() {
            this.rescache = {}
        }
        load(t, e) {
            var n = this;
            t instanceof Array ? t.forEach(function(t) {
                n.rescache[t] = !1, n.fetch(t, e)
            }) : (n.rescache[t] = !1, n.fetch(t, e))
        }
        fetch(t, e) {
            var n = this;
            if (n.rescache[t]) return n.rescache[t];
            var s = new Image;
            s.onload = function() {
                n.rescache[t] = s, n.ready(e)
            }, s.src = t
        }
        ready(t) {
            if ("function" == typeof t) {
                var e = !0;
                for (var n in this.rescache) Object.prototype.hasOwnProperty.call(this.rescache, n) && !this.rescache[n] && (e = !1);
                e && t()
            }
        }
    }
}, function(t, e, n) {
    "use strict";
    n.d(e, "a", function() {
        return s
    });
    class s {
        constructor() {
            this.sounds = {}, this.instances = [], this.defaultVolume = 1
        }
        load(t, e, n) {
            if (this.sounds[t] = new Audio(e), "function" != typeof n) return new Promise((e, n) => {
                this.sounds[t].addEventListener("canplaythrough", e), this.sounds[t].addEventListener("error", n)
            });
            this.sounds[t].addEventListener("canplaythrough", n)
        }
        remove(t) {
            void 0 !== this.sounds && delete this.sounds[t]
        }
        unlock(t, e, n, s) {
            var i = this,
                r = ["touchstart", "touchend", "mousedown", "keydown"],
                o = function o() {
                    r.forEach(function(t) {
                        document.body.removeEventListener(t, o)
                    }), i.play(t, e, n, s)
                };
            r.forEach(function(t) {
                document.body.addEventListener(t, o, !1)
            })
        }
        play(t, e, n, s) {
            if (s = s || !1, void 0 === this.sounds[t]) return console.error("Can't find sound called '" + t + "'."), !1;
            var i = this.sounds[t].cloneNode(!0);
            return i.volume = "number" == typeof n ? n : this.defaultVolume, i.loop = s, i.play(), this.instances.push(i), i.addEventListener("ended", () => {
                var t = this.instances.indexOf(i); - 1 !== t && this.instances.splice(t, 1)
            }), "function" == typeof e ? (i.addEventListener("ended", e), !0) : new Promise((t, e) => i.addEventListener("ended", t))
        }
        stopAll() {
            var t = this.instances.slice();
            for (var e of t) e.pause(), e.dispatchEvent(new Event("ended"))
        }
    }
}, function(t, e, n) {
    "use strict";
    n.r(e);
    var s = n(0);
    class i extends s.Game {
        constructor(t, e, n) {
            super(), this.state.size = {
                x: e,
                y: n
            }, this.loop = new s.Loop(this, 60), this.viewport = new s.Canvas(this.state.size.x, this.state.size.y, t), this.context = this.viewport.context, this.viewport.style.background = "#eee", this.viewport.resize(this, {
                x: window.innerWidth,
                y: window.innerHeight
            }), this.Tilemap = new o(this, {
                image: a.fetch("./tilemap.png"),
                map: {
                    t: 32,
                    w: 32,
                    h: 32,
                    z: 1,
                    m: [
                        [0, 14, 2],
                        [1, 14, 2],
                        [2, 14, 2],
                        [3, 14, 2],
                        [4, 14, 2],
                        [5, 14, 2],
                        [6, 14, 2],
                        [7, 14, 2],
                        [14, 14, 2],
                        [15, 14, 2],
                        [16, 14, 2],
                        [17, 14, 2],
                        [18, 14, 2],
                        [33, 14, 2],
                        [34, 14, 2],
                        [35, 14, 2],
                        [36, 14, 2],
                        [37, 14, 2],
                        [38, 14, 2],
                        [39, 14, 2],
                        [39, 13, 2],
                        [38, 13, 2],
                        [37, 13, 2],
                        [36, 13, 2],
                        [35, 13, 2],
                        [34, 13, 2],
                        [32, 14, 2],
                        [31, 14, 2],
                        [30, 14, 2],
                        [29, 14, 2],
                        [28, 14, 2],
                        [27, 14, 2],
                        [26, 14, 2],
                        [25, 14, 2],
                        [24, 14, 2],
                        [23, 14, 2],
                        [22, 14, 2],
                        [21, 14, 2],
                        [20, 14, 2],
                        [19, 14, 2],
                        [19, 13, 2],
                        [18, 13, 2],
                        [17, 13, 2],
                        [16, 13, 2],
                        [15, 13, 2],
                        [14, 13, 2],
                        [20, 13, 2],
                        [21, 13, 2],
                        [22, 13, 2],
                        [23, 13, 2],
                        [24, 13, 2],
                        [25, 13, 2],
                        [26, 13, 2],
                        [27, 13, 2],
                        [28, 13, 2],
                        [29, 13, 2],
                        [30, 13, 2],
                        [31, 13, 2],
                        [32, 13, 2],
                        [33, 13, 2],
                        [7, 13, 2],
                        [6, 13, 2],
                        [5, 13, 2],
                        [4, 13, 2],
                        [3, 13, 2],
                        [2, 13, 2],
                        [1, 13, 2],
                        [0, 13, 2],
                        [8, 13, 2],
                        [8, 14, 2],
                        [9, 14, 2],
                        [9, 13, 2],
                        [16, 10, 10],
                        [17, 10, 11],
                        [16, 11, 26],
                        [16, 12, 26],
                        [17, 11, 27],
                        [17, 12, 27],
                        [4, 9, 4],
                        [7, 9, 4],
                        [34, 6, 12],
                        [34, 7, 28],
                        [34, 8, 28],
                        [34, 9, 28],
                        [34, 10, 28],
                        [34, 11, 28],
                        [34, 12, 28],
                        [37, 12, 30],
                        [36, 11, 16],
                        [36, 12, 16],
                        [38, 11, 16],
                        [38, 12, 16],
                        [37, 11, 14],
                        [36, 10, 13],
                        [38, 10, 13],
                        [37, 10, 15],
                        [37, 9, 16],
                        [37, 8, 13],
                        [1, 12, 17],
                        [2, 12, 18],
                        [3, 12, 19],
                        [21, 12, 23],
                        [22, 11, 23],
                        [23, 10, 23],
                        [24, 11, 24],
                        [25, 10, 25],
                        [26, 11, 25],
                        [27, 12, 25],
                        [24, 9, 9],
                        [24, 10, 8],
                        [23, 11, 8],
                        [22, 12, 8],
                        [23, 12, 8],
                        [24, 12, 8],
                        [25, 12, 8],
                        [25, 11, 8],
                        [26, 12, 8],
                        [29, 12, 1],
                        [30, 12, 1],
                        [30, 11, 1],
                        [31, 12, 1],
                        [31, 11, 1],
                        [31, 10, 1],
                        [32, 12, 1],
                        [32, 11, 1],
                        [32, 10, 1],
                        [32, 9, 1],
                        [19, 4, 20],
                        [20, 4, 21],
                        [21, 4, 21],
                        [22, 4, 21],
                        [23, 4, 22],
                        [19, 3, 5],
                        [20, 3, 6],
                        [21, 3, 6],
                        [22, 3, 6],
                        [23, 3, 7]
                    ],
                    M: []
                }
            });
            for (var i = 0; i < 25; i++) this.addObject(new r(this))
        }
        render() {
            this.viewport.clear(), super.render()
        }
    }
    class r extends s.Sprite {
        constructor(t) {
            super(t, {
                frames: [12],
                image: a.fetch("./tilemap.png")
            }), this.scope = t, this.state.gravity.y = .5, this.state.friction = {
                x: .005,
                y: .005
            }, this.state.vel = {
                x: 5 * (Math.random() - .5),
                y: 5 * (Math.random() - .5)
            }, this.state.size = {
                x: 32,
                y: 32
            }, this.state.pos = {
                x: t.state.size.x / 2 - this.state.size.x / 2,
                y: t.state.size.y / 2 - this.state.size.y
            }
        }
        update() {
            super.update(), (this.state.pos.x + this.state.size.x > this.scope.state.size.x || this.state.pos.x < 0) && (this.state.vel.x *= -1), (this.state.pos.y + this.state.size.y > this.scope.state.size.y || this.state.pos.y < 0) && (this.state.vel.y *= -1), this.state.pos.y = s.Maths.boundary(this.state.pos.y, this.state.size.y, this.scope.state.size.y - this.state.size.y)
        }
        render() {
            super.render()
        }
    }
    class o {
        constructor(t, e) {
            this.scope = t, this.map = e.map || {}, this.image = e.image || new Image;
            class n extends s.Sprite {
                constructor(t, e) {
                    super(t, {
                        frames: e.frames
                    }), this.scope = t, this.state.image = e.image, this.state.size = e.size, this.state.pos = e.pos
                }
            }
            this.map.m.forEach(t => {
                console.log(t[0] * this.map.w + " " + t[1] * this.map.h + " " + t[2]), this.scope.entities.push(new n(this.scope, {
                    image: this.image,
                    pos: {
                        x: t[0] * this.map.w,
                        y: t[1] * this.map.h
                    },
                    frames: [t[2]],
                    size: {
                        x: this.map.w,
                        y: this.map.h
                    }
                }))
            })
        }
    }
    var a = new s.Loader;
    a.load(["./tilemap.png"], function() {
        new i("#container", 1024, 512)
    })
}, function(t, e, n) {
    "use strict";
    n.r(e),
        function(t, s) {
            n.d(e, "Craters", function() {
                return h
            });
            var i = n(5);
            n.d(e, "Vector", function() {
                return i
            });
            var r = n(2);
            n.d(e, "Maths", function() {
                return r
            });
            var o = n(4);
            n.d(e, "Canvas", function() {
                return o.a
            }), n.d(e, "Loop", function() {
                return o.b
            });
            var a = n(1);
            n.d(e, "Game", function() {
                return a.b
            }), n.d(e, "Entity", function() {
                return a.a
            }), n.d(e, "Sprite", function() {
                return a.c
            });
            var c = n(6);
            n.d(e, "Loader", function() {
                return c.a
            });
            var u = n(7);
            n.d(e, "Sound", function() {
                return u.a
            }), "undefined" == typeof window && t && (t.window = {
                performance: {
                    now: function(t) {
                        if (!t) return Date.now();
                        var e = Date.now(t);
                        return Math.round(1e3 * e[0] + e[1] / 1e6)
                    }
                },
                requestAnimationFrame: function(t) {
                    s(() => t(this.performance.now()))
                }
            });
            class h {
                static version() {
                    return "1.2.0"
                }
            }
        }.call(this, n(3), n(10).setImmediate)
}, function(t, e, n) {
    (function(t) {
        var s = void 0 !== t && t || "undefined" != typeof self && self || window,
            i = Function.prototype.apply;

        function r(t, e) {
            this._id = t, this._clearFn = e
        }
        e.setTimeout = function() {
            return new r(i.call(setTimeout, s, arguments), clearTimeout)
        }, e.setInterval = function() {
            return new r(i.call(setInterval, s, arguments), clearInterval)
        }, e.clearTimeout = e.clearInterval = function(t) {
            t && t.close()
        }, r.prototype.unref = r.prototype.ref = function() {}, r.prototype.close = function() {
            this._clearFn.call(s, this._id)
        }, e.enroll = function(t, e) {
            clearTimeout(t._idleTimeoutId), t._idleTimeout = e
        }, e.unenroll = function(t) {
            clearTimeout(t._idleTimeoutId), t._idleTimeout = -1
        }, e._unrefActive = e.active = function(t) {
            clearTimeout(t._idleTimeoutId);
            var e = t._idleTimeout;
            e >= 0 && (t._idleTimeoutId = setTimeout(function() {
                t._onTimeout && t._onTimeout()
            }, e))
        }, n(11), e.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== t && t.setImmediate || this && this.setImmediate, e.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== t && t.clearImmediate || this && this.clearImmediate
    }).call(this, n(3))
}, function(t, e, n) {
    (function(t, e) {
        ! function(t, n) {
            "use strict";
            if (!t.setImmediate) {
                var s, i, r, o, a, c = 1,
                    u = {},
                    h = !1,
                    f = t.document,
                    d = Object.getPrototypeOf && Object.getPrototypeOf(t);
                d = d && d.setTimeout ? d : t, "[object process]" === {}.toString.call(t.process) ? s = function(t) {
                    e.nextTick(function() {
                        p(t)
                    })
                } : ! function() {
                    if (t.postMessage && !t.importScripts) {
                        var e = !0,
                            n = t.onmessage;
                        return t.onmessage = function() {
                            e = !1
                        }, t.postMessage("", "*"), t.onmessage = n, e
                    }
                }() ? t.MessageChannel ? ((r = new MessageChannel).port1.onmessage = function(t) {
                    p(t.data)
                }, s = function(t) {
                    r.port2.postMessage(t)
                }) : f && "onreadystatechange" in f.createElement("script") ? (i = f.documentElement, s = function(t) {
                    var e = f.createElement("script");
                    e.onreadystatechange = function() {
                        p(t), e.onreadystatechange = null, i.removeChild(e), e = null
                    }, i.appendChild(e)
                }) : s = function(t) {
                    setTimeout(p, 0, t)
                } : (o = "setImmediate$" + Math.random() + "$", a = function(e) {
                    e.source === t && "string" == typeof e.data && 0 === e.data.indexOf(o) && p(+e.data.slice(o.length))
                }, t.addEventListener ? t.addEventListener("message", a, !1) : t.attachEvent("onmessage", a), s = function(e) {
                    t.postMessage(o + e, "*")
                }), d.setImmediate = function(t) {
                    "function" != typeof t && (t = new Function("" + t));
                    for (var e = new Array(arguments.length - 1), n = 0; n < e.length; n++) e[n] = arguments[n + 1];
                    var i = {
                        callback: t,
                        args: e
                    };
                    return u[c] = i, s(c), c++
                }, d.clearImmediate = l
            }

            function l(t) {
                delete u[t]
            }

            function p(t) {
                if (h) setTimeout(p, 0, t);
                else {
                    var e = u[t];
                    if (e) {
                        h = !0;
                        try {
                            ! function(t) {
                                var e = t.callback,
                                    s = t.args;
                                switch (s.length) {
                                    case 0:
                                        e();
                                        break;
                                    case 1:
                                        e(s[0]);
                                        break;
                                    case 2:
                                        e(s[0], s[1]);
                                        break;
                                    case 3:
                                        e(s[0], s[1], s[2]);
                                        break;
                                    default:
                                        e.apply(n, s)
                                }
                            }(e)
                        } finally {
                            l(t), h = !1
                        }
                    }
                }
            }
        }("undefined" == typeof self ? void 0 === t ? this : t : self)
    }).call(this, n(3), n(12))
}, function(t, e) {
    var n, s, i = t.exports = {};

    function r() {
        throw new Error("setTimeout has not been defined")
    }

    function o() {
        throw new Error("clearTimeout has not been defined")
    }

    function a(t) {
        if (n === setTimeout) return setTimeout(t, 0);
        if ((n === r || !n) && setTimeout) return n = setTimeout, setTimeout(t, 0);
        try {
            return n(t, 0)
        } catch (e) {
            try {
                return n.call(null, t, 0)
            } catch (e) {
                return n.call(this, t, 0)
            }
        }
    }! function() {
        try {
            n = "function" == typeof setTimeout ? setTimeout : r
        } catch (t) {
            n = r
        }
        try {
            s = "function" == typeof clearTimeout ? clearTimeout : o
        } catch (t) {
            s = o
        }
    }();
    var c, u = [],
        h = !1,
        f = -1;

    function d() {
        h && c && (h = !1, c.length ? u = c.concat(u) : f = -1, u.length && l())
    }

    function l() {
        if (!h) {
            var t = a(d);
            h = !0;
            for (var e = u.length; e;) {
                for (c = u, u = []; ++f < e;) c && c[f].run();
                f = -1, e = u.length
            }
            c = null, h = !1,
                function(t) {
                    if (s === clearTimeout) return clearTimeout(t);
                    if ((s === o || !s) && clearTimeout) return s = clearTimeout, clearTimeout(t);
                    try {
                        s(t)
                    } catch (e) {
                        try {
                            return s.call(null, t)
                        } catch (e) {
                            return s.call(this, t)
                        }
                    }
                }(t)
        }
    }

    function p(t, e) {
        this.fun = t, this.array = e
    }

    function y() {}
    i.nextTick = function(t) {
        var e = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
        u.push(new p(t, e)), 1 !== u.length || h || a(l)
    }, p.prototype.run = function() {
        this.fun.apply(null, this.array)
    }, i.title = "browser", i.browser = !0, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = y, i.addListener = y, i.once = y, i.off = y, i.removeListener = y, i.removeAllListeners = y, i.emit = y, i.prependListener = y, i.prependOnceListener = y, i.listeners = function(t) {
        return []
    }, i.binding = function(t) {
        throw new Error("process.binding is not supported")
    }, i.cwd = function() {
        return "/"
    }, i.chdir = function(t) {
        throw new Error("process.chdir is not supported")
    }, i.umask = function() {
        return 0
    }
}]);