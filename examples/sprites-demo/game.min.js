! function(t) {
    var e = {};

    function s(i) {
        if (e[i]) return e[i].exports;
        var a = e[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return t[i].call(a.exports, a, a.exports, s), a.l = !0, a.exports
    }
    s.m = t, s.c = e, s.d = function(t, e, i) {
        s.o(t, e) || Object.defineProperty(t, e, {
            enumerable: !0,
            get: i
        })
    }, s.r = function(t) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }, s.t = function(t, e) {
        if (1 & e && (t = s(t)), 8 & e) return t;
        if (4 & e && "object" == typeof t && t && t.__esModule) return t;
        var i = Object.create(null);
        if (s.r(i), Object.defineProperty(i, "default", {
                enumerable: !0,
                value: t
            }), 2 & e && "string" != typeof t)
            for (var a in t) s.d(i, a, function(e) {
                return t[e]
            }.bind(null, a));
        return i
    }, s.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default
        } : function() {
            return t
        };
        return s.d(e, "a", e), e
    }, s.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }, s.p = "", s(s.s = 0)
}([function(t, e, s) {
    "use strict";
    s.r(e);
    class i {
        constructor(t, e) {
            var s = {},
                i = 1e3 / e,
                a = window.performance.now(),
                r = {
                    new: {
                        frameCount: 0,
                        startTime: a,
                        sinceStart: 0
                    },
                    old: {
                        frameCount: 0,
                        startTime: a,
                        sineStart: 0
                    }
                },
                n = "new";
            return s.fps = 0, s.main = function(o) {
                s.stopLoop = window.requestAnimationFrame(s.main);
                var c, h, u = o,
                    l = u - a;
                if (l > i) {
                    for (var p in a = u - l % i, r) ++r[p].frameCount, r[p].sinceStart = u - r[p].startTime;
                    c = r[n], s.fps = Math.round(1e3 / (c.sinceStart / c.frameCount) * 100) / 100, h = r.new.frameCount === r.old.frameCount ? 5 * e : 10 * e, c.frameCount > h && (r[n].frameCount = 0, r[n].startTime = u, r[n].sinceStart = 0, n = "new" === n ? "old" : "new"), t.update(t, u), t.render(t, u)
                }
            }, s.main(), s
        }
    }
    class a {
        constructor(t, e, s) {
            s = document.querySelector(s || "body");
            var i = document.createElement("canvas"),
                a = i.getContext("2d"),
                r = window.devicePixelRatio / ["webkitBackingStorePixelRatio", "mozBackingStorePixelRatio", "msBackingStorePixelRatio", "oBackingStorePixelRatio", "backingStorePixelRatio"].reduce(function(t, e) {
                    return Object.prototype.hasOwnProperty.call(a, e) ? a[e] : 1
                });
            return i.width = Math.round(t * r), i.height = Math.round(e * r), i.style.width = t + "px", i.style.height = e + "px", a.setTransform(r, 0, 0, r, 0, 0), s.insertBefore(i, s.firstChild), i
        }
    }
    class r {
        constructor(t, e, s, i, a) {
            this.entities = [], this.state = {
                container: t,
                size: {
                    x: 10,
                    y: 10
                }
            }
        }
        addObject(t) {
            this.entities.push(t)
        }
        removeObject(t) {
            this.entities.splice(t, 1)
        }
        update() {
            this.entities.forEach(function(t) {
                switch (t.update(), t.type) {
                    case "dynamic":
                    case "kinematic":
                    case "default":
                        t.state.vel.x += t.state.accel.x, t.state.vel.y += t.state.accel.y, t.state.pos.x += t.state.vel.x, t.state.pos.y += t.state.vel.y
                }
            })
        }
        render() {
            this.entities.forEach(function(t) {
                t.render()
            })
        }
        clearContext(t, e) {
            t.clearRect(0, 0, e.x, e.y)
        }
    }
    class n extends r {
        constructor() {
            super(), this.state = {
                size: {
                    x: 10,
                    y: 10
                },
                pos: {
                    x: 0,
                    y: 0
                },
                vel: {
                    x: 0,
                    y: 0
                },
                accel: {
                    x: 0,
                    y: 0
                },
                radius: 10,
                angle: 0
            }, this.type = "kinematic"
        }
    }
    class o extends n {
        constructor(t, e) {
            super(), this.scope = t, this.state.pos = e.pos || {
                x: 0,
                y: 0
            }, this.state.crop = {
                x: 0,
                y: 0
            }, this.state.size = e.size || {
                x: 0,
                y: 0
            }, this.state.frames = e.frames || [], this.state.angle = e.angle || 0, this.state.image = e.image || new Image, this.state.delay = e.delay || 5, this.state.tick = e.tick || 0, this.state.orientation = e.orientation || "horizontal"
        }
        update() {
            super.update(), this.state.tick <= 0 && ("vertical" === this.orientation ? (this.state.crop.y = this.state.frames.shift(), this.state.frames.push(this.state.crop.y)) : (this.state.crop.x = this.state.frames.shift(), this.state.frames.push(this.state.crop.x)), this.state.tick = this.state.delay), this.state.tick--
        }
        render() {
            super.render(), this.scope.context.save(), this.scope.context.translate(this.state.crop.x + this.state.size.x / 2, this.state.crop.y + this.state.size.y / 2), this.scope.context.rotate(this.state.angle * (Math.PI / 180)), this.scope.context.translate(-(this.state.crop.x + this.state.size.x / 2), -(this.state.crop.y + this.state.size.y / 2)), this.scope.context.drawImage(this.state.image, this.state.crop.x * this.state.size.x, this.state.crop.y * this.state.size.y, this.state.size.x, this.state.size.y, this.state.pos.x, this.state.pos.y, this.state.size.x, this.state.size.y), this.scope.context.restore()
        }
    }
    class c extends r {
        constructor(t, e, s) {
            super(), this.score = "0000", this.state.size = {
                x: e,
                y: s
            }, this.viewport = new a(this.state.size.x, this.state.size.y, t), this.context = this.viewport.getContext("2d"), this.loop = new i(this, 60);
            for (var r = 0; r < 15; r++) this.entities.push(new u(this, {
                pos: {
                    x: Math.random() * this.state.size.x,
                    y: Math.random() * this.state.size.y
                }
            }));
            this.entities.push(new h(this))
        }
        render() {
            this.clearContext(this.context, this.state.size), super.render(), this.context.font = "2em Arial", this.context.fillStyle = "#fff", this.context.fillText("score: " + this.score, 16, 50)
        }
    }
    class h extends o {
        constructor(t) {
            super(t, {
                frames: [0, 1, 2]
            }), this.scope = t, this.state.image = l.fetch("./media/bug.png"), this.state.size = {
                x: 196,
                y: 218
            }, this.state.pos = {
                x: t.state.size.x / 2 - this.state.size.x / 2,
                y: t.state.size.y - this.state.size.y
            }, this.state.angle = 360 * Math.random()
        }
    }
    class u extends o {
        constructor(t, e) {
            super(t, {
                frames: [0, 1, 2]
            }), this.scope = t, this.state.image = l.fetch("./media/bolt.png"), this.state.size = {
                x: 214,
                y: 282
            }, this.state.pos = e.pos, this.state.angle = 360 * Math.random()
        }
    }
    var l = new class {
        constructor() {
            this.rescache = {}
        }
        load(t, e) {
            var s = this;
            t instanceof Array ? t.forEach(function(t) {
                s.rescache[t] = !1, s.fetch(t, e)
            }) : (s.rescache[t] = !1, s.fetch(t, e))
        }
        fetch(t, e) {
            var s = this;
            if (s.rescache[t]) return s.rescache[t];
            var i = new Image;
            i.onload = function() {
                s.rescache[t] = i, s.ready(e)
            }, i.src = t
        }
        ready(t) {
            if ("function" == typeof t) {
                var e = !0;
                for (var s in this.rescache) Object.prototype.hasOwnProperty.call(this.rescache, s) && !this.rescache[s] && (e = !1);
                e && t()
            }
        }
    };
    l.load(["./media/bug.png", "./media/bolt.png"], function() {
        window.game = new c("#container", window.innerWidth, window.innerHeight, 60, !0)
    })
}]);