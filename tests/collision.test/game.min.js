!function(t){var e={};function n(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(s,o,function(e){return t[e]}.bind(null,o));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e,n){"use strict";n.r(e),n.d(e,"Vector",function(){return c}),n.d(e,"boundary",function(){return a}),n.d(e,"degToRad",function(){return s}),n.d(e,"radToDeg",function(){return o}),n.d(e,"distance",function(){return r}),n.d(e,"map",function(){return i});const s=function(t){return t*Math.PI/180},o=function(t){return 180*t/Math.PI},r=function(t,e,n,s){return Math.sqrt((n-t)*(n-t)+(s-e)*(s-e))},i=function(t,e,n,s,o){return s+(o-s)*(t-e)/(n-e)},a=function(t,e,n){return Math.min(Math.max(t,e),n)},c=function(t,e){this.x=t||0,this.y=e||0};c.prototype={clone:function(){return new c(this.x,this.y)},set:function(t,e){return"x"===t?this.x=e:"y"===t&&(this.y=e),this},add:function(){let t,e,n=arguments;if(1===n.length){let s=n[0];"object"==typeof s&&(t=s.x,e=s.y)}else 2===n.length&&"number"==typeof n[0]&&"number"==typeof n[1]&&(t=n[0],e=n[1]);return this.x+=t,this.y+=e,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},multiply:function(t){return"object"==typeof t?(this.x*=t.x,this.y*=t.y):"number"==typeof t&&(this.x*=t,this.y*=t),this},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},magnitudeSq:function(){return this.x*this.x+this.y*this.y},negate:function(){return this.x=-this.x,this.y=-this.y,this},rotate:function(t){let e=Math.sin(t),n=Math.cos(t),s=this.x*n-this.y*e,o=this.x*e+this.y*n;return this.x=s,this.y=o,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},angleTo:function(t){let e=this.magnitude(),n=t.magnitude(),s=this.dot(t);return Math.acos(s/(e*n))},getAngle:function(t){if("DEGREES"===t)return o(Math.atan(this.y/this.x));let e=Math.atan2(this.y,this.x);return e<0?2*Math.PI+e:e},normalize:function(){let t=this.magnitude();return this.x/=t,this.y/=t,this},perp:function(t){if("right"===t){let t=this.x;this.x=this.y,this.y=-t}else{let t=this.x;this.x=-this.y,this.y=t}return this},distanceTo:function(t){return Math.sqrt((t.x-this.x)*(t.x-this.x)+(t.y-this.y)*(t.y-this.y))},scalarProject:function(t){return this.dot(t)/t.magnitude()},scalarProjectUnit:function(t){return this.dot(t)},vectorProject:function(t){let e=this.dot(t)/t.magnitudeSq();return this.x=t.x*e,this.y=t.y*e,this},vectorProjectUnit:function(t){let e=this.dot(t);return this.x=t.x*e,this.y=t.y*e,this}},c.prototype.translate=c.prototype.add;c.add=function(t,e){return new c(t.x+e.x,t.y+e.y)},c.subtract=function(t,e){return new c(t.x-e.x,t.y-e.y)},c.multiply=function(t,e){return"number"==typeof t&&"number"==typeof e?t*e:"object"==typeof t&&"number"==typeof e?new c(t.x*e,t.y*e):"object"==typeof e&&"number"==typeof t?new c(t*e.x,t*e.y):new c(t.x*e.x,t.y*e.y)},c.dot=function(t,e){return t.x*e.x+t.y*e.y},c.angleBetween=function(t,e){let n=t.magnitude(),s=e.magnitude(),o=t.dot(e);return Math.acos(o/(n*s))},c.perp=function(t,e){switch(e){case"right":return new c(t.y,-t.x);default:return new c(-t.y,t.x)}},c.negate=function(t){return new c(-t.x,-t.y)}},function(t,e,n){t.exports=n(9)},function(t,e,n){var s,o;
/** @preserve SAT.js - Version 0.8.0 - Copyright 2012 - 2018 - Jim Riecken <jimr@jimr.ca> - released under the MIT License. https://github.com/jriecken/sat-js */
/** @preserve SAT.js - Version 0.8.0 - Copyright 2012 - 2018 - Jim Riecken <jimr@jimr.ca> - released under the MIT License. https://github.com/jriecken/sat-js */
!function(r,i){"use strict";void 0===(o="function"==typeof(s=function(){var t={};function e(t,e){this.x=t||0,this.y=e||0}function n(t,n){this.pos=t||new e,this.r=n||0,this.offset=new e}function s(t,n){this.pos=t||new e,this.angle=0,this.offset=new e,this.setPoints(n||[])}function o(t,n,s){this.pos=t||new e,this.w=n||0,this.h=s||0}function r(){this.a=null,this.b=null,this.overlapN=new e,this.overlapV=new e,this.clear()}t.Vector=e,t.V=e,e.prototype.copy=e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.perp=e.prototype.perp=function(){var t=this.x;return this.x=this.y,this.y=-t,this},e.prototype.rotate=e.prototype.rotate=function(t){var e=this.x,n=this.y;return this.x=e*Math.cos(t)-n*Math.sin(t),this.y=e*Math.sin(t)+n*Math.cos(t),this},e.prototype.reverse=e.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.normalize=e.prototype.normalize=function(){var t=this.len();return t>0&&(this.x=this.x/t,this.y=this.y/t),this},e.prototype.add=e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.sub=e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.scale=e.prototype.scale=function(t,e){return this.x*=t,this.y*=void 0!==e?e:t,this},e.prototype.project=e.prototype.project=function(t){var e=this.dot(t)/t.len2();return this.x=e*t.x,this.y=e*t.y,this},e.prototype.projectN=e.prototype.projectN=function(t){var e=this.dot(t);return this.x=e*t.x,this.y=e*t.y,this},e.prototype.reflect=e.prototype.reflect=function(t){var e=this.x,n=this.y;return this.project(t).scale(2),this.x-=e,this.y-=n,this},e.prototype.reflectN=e.prototype.reflectN=function(t){var e=this.x,n=this.y;return this.projectN(t).scale(2),this.x-=e,this.y-=n,this},e.prototype.dot=e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len2=e.prototype.len2=function(){return this.dot(this)},e.prototype.len=e.prototype.len=function(){return Math.sqrt(this.len2())},t.Circle=n,n.prototype.getAABB=n.prototype.getAABB=function(){var t=this.r,n=this.pos.clone().add(this.offset).sub(new e(t,t));return new o(n,2*t,2*t).toPolygon()},n.prototype.setOffset=n.prototype.setOffset=function(t){return this.offset=t,this},t.Polygon=s,s.prototype.setPoints=s.prototype.setPoints=function(t){var n=!this.points||this.points.length!==t.length;if(n){var s,o=this.calcPoints=[],r=this.edges=[],i=this.normals=[];for(s=0;s<t.length;s++){var a=t[s],c=s<t.length-1?t[s+1]:t[0];a===c||a.x!==c.x||a.y!==c.y?(o.push(new e),r.push(new e),i.push(new e)):(t.splice(s,1),s-=1)}}return this.points=t,this._recalc(),this},s.prototype.setAngle=s.prototype.setAngle=function(t){return this.angle=t,this._recalc(),this},s.prototype.setOffset=s.prototype.setOffset=function(t){return this.offset=t,this._recalc(),this},s.prototype.rotate=s.prototype.rotate=function(t){for(var e=this.points,n=e.length,s=0;s<n;s++)e[s].rotate(t);return this._recalc(),this},s.prototype.translate=s.prototype.translate=function(t,e){for(var n=this.points,s=n.length,o=0;o<s;o++)n[o].x+=t,n[o].y+=e;return this._recalc(),this},s.prototype._recalc=function(){var t,e=this.calcPoints,n=this.edges,s=this.normals,o=this.points,r=this.offset,i=this.angle,a=o.length;for(t=0;t<a;t++){var c=e[t].copy(o[t]);c.x+=r.x,c.y+=r.y,0!==i&&c.rotate(i)}for(t=0;t<a;t++){var u=e[t],h=t<a-1?e[t+1]:e[0],p=n[t].copy(h).sub(u);s[t].copy(p).perp().normalize()}return this},s.prototype.getAABB=s.prototype.getAABB=function(){for(var t=this.calcPoints,n=t.length,s=t[0].x,r=t[0].y,i=t[0].x,a=t[0].y,c=1;c<n;c++){var u=t[c];u.x<s?s=u.x:u.x>i&&(i=u.x),u.y<r?r=u.y:u.y>a&&(a=u.y)}return new o(this.pos.clone().add(new e(s,r)),i-s,a-r).toPolygon()},s.prototype.getCentroid=s.prototype.getCentroid=function(){for(var t=this.calcPoints,n=t.length,s=0,o=0,r=0,i=0;i<n;i++){var a=t[i],c=i===n-1?t[0]:t[i+1],u=a.x*c.y-c.x*a.y;s+=(a.x+c.x)*u,o+=(a.y+c.y)*u,r+=u}return new e(s/=r*=3,o/=r)},t.Box=o,o.prototype.toPolygon=o.prototype.toPolygon=function(){var t=this.pos,n=this.w,o=this.h;return new s(new e(t.x,t.y),[new e,new e(n,0),new e(n,o),new e(0,o)])},t.Response=r,r.prototype.clear=r.prototype.clear=function(){return this.aInB=!0,this.bInA=!0,this.overlap=Number.MAX_VALUE,this};for(var i=[],a=0;a<10;a++)i.push(new e);for(var c=[],a=0;a<5;a++)c.push([]);var u=new r,h=new o(new e,1e-6,1e-6).toPolygon();function p(t,e,n){for(var s=Number.MAX_VALUE,o=-Number.MAX_VALUE,r=t.length,i=0;i<r;i++){var a=t[i].dot(e);a<s&&(s=a),a>o&&(o=a)}n[0]=s,n[1]=o}function l(t,e,n,s,o,r){var a=c.pop(),u=c.pop(),h=i.pop().copy(e).sub(t),l=h.dot(o);if(p(n,o,a),p(s,o,u),u[0]+=l,u[1]+=l,a[0]>u[1]||u[0]>a[1])return i.push(h),c.push(a),c.push(u),!0;if(r){var f=0;if(a[0]<u[0])if(r.aInB=!1,a[1]<u[1])f=a[1]-u[0],r.bInA=!1;else{var y=a[1]-u[0],d=u[1]-a[0];f=y<d?y:-d}else if(r.bInA=!1,a[1]>u[1])f=a[0]-u[1],r.aInB=!1;else{var y=a[1]-u[0],d=u[1]-a[0];f=y<d?y:-d}var v=Math.abs(f);v<r.overlap&&(r.overlap=v,r.overlapN.copy(o),f<0&&r.overlapN.reverse())}return i.push(h),c.push(a),c.push(u),!1}function f(t,e){var n=t.len2(),s=e.dot(t);return s<0?y:s>n?v:d}t.isSeparatingAxis=l;var y=-1,d=0,v=1;function x(t,e,n){for(var s=i.pop().copy(e.pos).add(e.offset).sub(t.pos),o=e.r,r=o*o,a=t.calcPoints,c=a.length,u=i.pop(),h=i.pop(),p=0;p<c;p++){var l=p===c-1?0:p+1,d=0===p?c-1:p-1,x=0,m=null;u.copy(t.edges[p]),h.copy(s).sub(a[p]),n&&h.len2()>r&&(n.aInB=!1);var g=f(u,h);if(g===y){u.copy(t.edges[d]);var w=i.pop().copy(s).sub(a[d]);if((g=f(u,w))===v){var b=h.len();if(b>o)return i.push(s),i.push(u),i.push(h),i.push(w),!1;n&&(n.bInA=!1,m=h.normalize(),x=o-b)}i.push(w)}else if(g===v){if(u.copy(t.edges[l]),h.copy(s).sub(a[l]),(g=f(u,h))===y){var b=h.len();if(b>o)return i.push(s),i.push(u),i.push(h),!1;n&&(n.bInA=!1,m=h.normalize(),x=o-b)}}else{var M=u.perp().normalize(),b=h.dot(M),I=Math.abs(b);if(b>0&&I>o)return i.push(s),i.push(M),i.push(h),!1;n&&(m=M,x=o-b,(b>=0||x<2*o)&&(n.bInA=!1))}m&&n&&Math.abs(x)<Math.abs(n.overlap)&&(n.overlap=x,n.overlapN.copy(m))}return n&&(n.a=t,n.b=e,n.overlapV.copy(n.overlapN).scale(n.overlap)),i.push(s),i.push(u),i.push(h),!0}function m(t,e,n){for(var s=t.calcPoints,o=s.length,r=e.calcPoints,i=r.length,a=0;a<o;a++)if(l(t.pos,e.pos,s,r,t.normals[a],n))return!1;for(var a=0;a<i;a++)if(l(t.pos,e.pos,s,r,e.normals[a],n))return!1;return n&&(n.a=t,n.b=e,n.overlapV.copy(n.overlapN).scale(n.overlap)),!0}return t.pointInCircle=function(t,e){var n=i.pop().copy(t).sub(e.pos).sub(e.offset),s=e.r*e.r,o=n.len2();return i.push(n),o<=s},t.pointInPolygon=function(t,e){h.pos.copy(t),u.clear();var n=m(h,e,u);return n&&(n=u.aInB),n},t.testCircleCircle=function(t,e,n){var s=i.pop().copy(e.pos).add(e.offset).sub(t.pos).sub(t.offset),o=t.r+e.r,r=o*o,a=s.len2();if(a>r)return i.push(s),!1;if(n){var c=Math.sqrt(a);n.a=t,n.b=e,n.overlap=o-c,n.overlapN.copy(s.normalize()),n.overlapV.copy(s).scale(n.overlap),n.aInB=t.r<=e.r&&c<=e.r-t.r,n.bInA=e.r<=t.r&&c<=t.r-e.r}return i.push(s),!0},t.testPolygonCircle=x,t.testCirclePolygon=function(t,e,n){var s=x(e,t,n);if(s&&n){var o=n.a,r=n.aInB;n.overlapN.reverse(),n.overlapV.reverse(),n.a=n.b,n.b=o,n.aInB=n.bInA,n.bInA=r}return s},t.testPolygonPolygon=m,t})?s.call(e,n,e,t):s)||(t.exports=o)}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i});var s=n(0);class o{constructor(){this.entities=[],this.state={size:new s.Vector(1024,512),gravity:new s.Vector(0,0),friction:new s.Vector(0,0)}}addObject(t){return this.entities.push(t)}removeObject(t){return this.entities.splice(t,1)}update(t,e){this.entities.forEach(t=>{switch(t.state.loop=this.state.loop,t.update(),t.type){case"dynamic":t.state.vel.x+=t.state.accel.x+(t.state.gravity.x+this.state.gravity.x),t.state.vel.y+=t.state.accel.y+(t.state.gravity.y+this.state.gravity.y),t.state.pos.x+=t.state.vel.x*(1/((t.state.loop.delta+t.state.loop.nframe)/2)),t.state.pos.y+=t.state.vel.y*(1/((t.state.loop.delta+t.state.loop.nframe)/2));var e=t.state.friction.x,n=t.state.vel.x+e,s=t.state.vel.x-e,o=t.state.friction.y,r=t.state.vel.y+o,i=t.state.vel.y-o;t.state.vel.x=n<0?n:s>0?s:0,t.state.vel.y=r<0?r:i>0?i:0;break;case"static":t.state.vel.x+=t.state.accel.x,t.state.vel.y+=t.state.accel.y,t.state.pos.x+=t.state.vel.x,t.state.pos.y+=t.state.vel.y}})}render(){this.entities.forEach(t=>{t.render()})}}class r extends o{constructor(){super(),this.state.size=new s.Vector(20,20),this.state.pos=new s.Vector(0,0),this.state.vel=new s.Vector(0,0),this.state.accel=new s.Vector(0,0),this.state.radius=20,this.state.angle=0,this.type="dynamic"}}class i extends r{constructor(t,e){super(),this.scope=t,this.state.pos=e.pos||new s.Vector(0,0),this.state.crop=new s.Vector(0,0),this.state.size=e.size||new s.Vector(0,0),this.state.frames=e.frames||[],this.state.angle=e.angle||0,this.state.image=e.image||new Image,this.state.delay=e.delay||5,this.state.tick=e.tick||0,this.state.orientation=e.orientation||"horizontal"}update(){super.update(),this.state.tick<=0&&("vertical"===this.orientation?(this.state.crop.y=this.state.frames.shift(),this.state.frames.push(this.state.crop.y)):(this.state.crop.x=this.state.frames.shift(),this.state.frames.push(this.state.crop.x)),this.state.tick=this.state.delay),this.state.tick--}render(){super.render(),this.scope.context.save(),this.scope.context.translate(this.state.crop.x+this.state.size.x/2,this.state.crop.y+this.state.size.y/2),this.scope.context.rotate(this.state.angle*(Math.PI/180)),this.scope.context.translate(-(this.state.crop.x+this.state.size.x/2),-(this.state.crop.y+this.state.size.y/2)),this.scope.context.drawImage(this.state.image,this.state.crop.x*this.state.size.x,this.state.crop.y*this.state.size.y,this.state.size.x,this.state.size.y,this.state.pos.x,this.state.pos.y,this.state.size.x,this.state.size.y),this.scope.context.restore()}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});class s{constructor(t,e){var n={elapsed:0,tframe:1e3/e,nframe:e,before:window.performance.now(),main:function(){n.startLoop=window.requestAnimationFrame(n.main),n.delta=Math.round(1e3/(window.performance.now()-n.before)*100/100),window.performance.now()<n.before+n.tframe||(n.before=window.performance.now(),n.stopLoop=()=>{window.cancelAnimationFrame(n.startLoop)},t.state.loop=n,t.update(n.elapsed,n.delta),t.render(n.elapsed,n.delta),n.elapsed++)}};return n.main(),n}}class o{constructor(t,e,n){n=document.querySelector(n||"body");var s=document.createElement("canvas"),o=s.getContext("2d"),r=window.devicePixelRatio/["webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio"].reduce(function(t,e){return Object.prototype.hasOwnProperty.call(o,e)?o[e]:1});return s.width=Math.round(t*r),s.height=Math.round(e*r),s.style.width=t+"px",s.style.height=e+"px",o.setTransform(r,0,0,r,0,0),n.insertBefore(s,n.firstChild),s.context=s.getContext("2d"),s.resize=(t,e)=>{s.style.width=e.x+"px",s.style.height=e.y+"px",s.width=Math.round(e.x*r),s.height=Math.round(e.y*r),o.setTransform(r,0,0,r,0,0),t.state.size.x=e.x,t.state.size.y=e.y},s.clear=(t,e,n,o,r)=>{t=t||null,e=e||0,n=n||0,o=o||s.width,r=r||s.height,t?(s.context.save(),s.context.fillStyle=t,s.context.fillRect(e,n,o,r),s.context.fill(),s.context.restore()):s.context.clearRect(e,n,o,r)},s.camera=(t,e)=>{s.context.setTransform(1,0,0,1,0,0),s.context.translate(-t,-e)},s}}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});class s{constructor(){this.rescache={}}load(t,e){var n=this;t instanceof Array?t.forEach(function(t){n.rescache[t]=!1,n.fetch(t,e)}):(n.rescache[t]=!1,n.fetch(t,e))}fetch(t,e){var n=this;if(n.rescache[t])return n.rescache[t];var s=new Image;s.onload=function(){n.rescache[t]=s,n.ready(e)},s.src=t}ready(t){if("function"==typeof t){var e=!0;for(var n in this.rescache)Object.prototype.hasOwnProperty.call(this.rescache,n)&&!this.rescache[n]&&(e=!1);e&&t()}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});class s{constructor(){this.sounds={},this.instances=[],this.defaultVolume=1}load(t,e,n){if(this.sounds[t]=new Audio(e),"function"!=typeof n)return new Promise((e,n)=>{this.sounds[t].addEventListener("canplaythrough",e),this.sounds[t].addEventListener("error",n)});this.sounds[t].addEventListener("canplaythrough",n)}remove(t){void 0!==this.sounds&&delete this.sounds[t]}unlock(t,e,n,s){var o=this,r=["touchstart","touchend","mousedown","keydown"],i=function i(){r.forEach(function(t){document.body.removeEventListener(t,i)}),o.play(t,e,n,s)};r.forEach(function(t){document.body.addEventListener(t,i,!1)})}play(t,e,n,s){if(s=s||!1,void 0===this.sounds[t])return console.error("Can't find sound called '"+t+"'."),!1;var o=this.sounds[t].cloneNode(!0);return o.volume="number"==typeof n?n:this.defaultVolume,o.loop=s,o.play(),this.instances.push(o),o.addEventListener("ended",()=>{var t=this.instances.indexOf(o);-1!==t&&this.instances.splice(t,1)}),"function"==typeof e?(o.addEventListener("ended",e),!0):new Promise((t,e)=>o.addEventListener("ended",t))}stopAll(){var t=this.instances.slice();for(var e of t)e.pause(),e.dispatchEvent(new Event("ended"))}}},function(t,e,n){"use strict";n.r(e);var s=n(1),o=n(2);class r extends s.Entity{constructor(t){super(),this.scope=t,this.type="dynamic",this.shape=new o.Circle(new o.Vector(this.scope.state.size.x/2,this.scope.state.size.x/2),50*Math.random()+10),this.state.pos=this.shape.pos,this.state.friction={x:.005,y:.005},this.state.vel={x:100*(Math.random()-.5),y:100*Math.random()}}update(){super.update(),(this.state.pos.x+this.shape.r>this.scope.state.size.x||this.state.pos.x<0)&&(this.state.vel.x*=0),(this.state.pos.y+this.shape.r>this.scope.state.size.y||this.state.pos.y<0)&&(this.state.vel.y*=0);for(var t=0;t<this.scope.entities.length;t++)if(this.scope.entities[t].id!=this.id){var e=new o.Response;o.testCircleCircle(this.shape,this.scope.entities[t].shape,e)&&(e.overlapV.scale(.5),this.state.pos.sub(e.overlapV),this.scope.entities[t].state.pos.add(e.overlapV),this.scope.context.fillStyle="red")}this.state.pos.y=s.Maths.boundary(this.state.pos.y,this.shape.r,this.scope.state.size.y-this.shape.r)}render(){this.scope.context.beginPath(),this.scope.context.arc(this.state.pos.x,this.state.pos.y,this.shape.r,0,2*Math.PI),this.scope.context.lineWidth=1,this.scope.context.strokeStyle="#000",this.scope.context.fillStyle="green",this.scope.context.fill(),this.scope.context.stroke()}}new class extends s.Game{constructor(t,e,n){super(),this.state.size={x:e,y:n},this.loop=new s.Loop(this,60),this.viewport=new s.Canvas(this.state.size.x,this.state.size.y,t),this.context=this.viewport.context,this.viewport.style.background="#eee",this.viewport.resize(this,{x:window.innerWidth,y:window.innerHeight});for(var o=0;o<25;o++){let t=this.addObject(new r(this))-1;this.entities[t].id=t}}render(){this.viewport.clear(),super.render()}update(){super.update()}}("#container",1024,512)},function(t,e,n){"use strict";n.r(e),function(t,s){n.d(e,"Craters",function(){return u});var o=n(0);n.d(e,"Maths",function(){return o});var r=n(5);n.d(e,"Canvas",function(){return r.a}),n.d(e,"Loop",function(){return r.b});var i=n(3);n.d(e,"Game",function(){return i.b}),n.d(e,"Entity",function(){return i.a}),n.d(e,"Sprite",function(){return i.c});var a=n(6);n.d(e,"Loader",function(){return a.a});var c=n(7);n.d(e,"Sound",function(){return c.a}),"undefined"==typeof window&&t&&(t.window={performance:{now:function(t){if(!t)return Date.now();var e=Date.now(t);return Math.round(1e3*e[0]+e[1]/1e6)}},requestAnimationFrame:function(t){s(()=>t(this.performance.now()))}});class u{static version(){return"1.2.2"}}}.call(this,n(4),n(10).setImmediate)},function(t,e,n){(function(t){var s=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,s,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,s,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(s,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(11),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(4))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var s,o,r,i,a,c=1,u={},h=!1,p=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?s=function(t){e.nextTick(function(){y(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){y(t.data)},s=function(t){r.port2.postMessage(t)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,s=function(t){var e=p.createElement("script");e.onreadystatechange=function(){y(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):s=function(t){setTimeout(y,0,t)}:(i="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(i)&&y(+e.data.slice(i.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),s=function(e){t.postMessage(i+e,"*")}),l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return u[c]=o,s(c),c++},l.clearImmediate=f}function f(t){delete u[t]}function y(t){if(h)setTimeout(y,0,t);else{var e=u[t];if(e){h=!0;try{!function(t){var e=t.callback,s=t.args;switch(s.length){case 0:e();break;case 1:e(s[0]);break;case 2:e(s[0],s[1]);break;case 3:e(s[0],s[1],s[2]);break;default:e.apply(n,s)}}(e)}finally{f(t),h=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(4),n(12))},function(t,e){var n,s,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{s="function"==typeof clearTimeout?clearTimeout:i}catch(t){s=i}}();var c,u=[],h=!1,p=-1;function l(){h&&c&&(h=!1,c.length?u=c.concat(u):p=-1,u.length&&f())}function f(){if(!h){var t=a(l);h=!0;for(var e=u.length;e;){for(c=u,u=[];++p<e;)c&&c[p].run();p=-1,e=u.length}c=null,h=!1,function(t){if(s===clearTimeout)return clearTimeout(t);if((s===i||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function d(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new y(t,e)),1!==u.length||h||a(f)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.prependListener=d,o.prependOnceListener=d,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}]);