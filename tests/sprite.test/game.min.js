/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./game.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../../craters/Modules/Assets/Image.js":
/*!*****************************************************************************!*\
  !*** /storage/sdcard0/.htdocs/craters-beta/craters/Modules/Assets/Image.js ***!
  \*****************************************************************************/
/*! exports provided: loadImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadImage\", function() { return loadImage; });\nclass loadImage {\n\tconstructor() {\n\t\tthis.instances = {}\n\t};\n\t\n\tload(resource, callback) {\n\t\tif (resource instanceof Array) {\n\t\t\tif(resource.length < 0) return this.ready(callback);\n\t\t\tresource.forEach((i) => {\n\t\t\t\tthis.instances[i] = false\n\t\t\t\tthis.fetch(i, callback)\n\t\t\t})\n\t\t} else {\n\t\t\tthis.instances[resource] = false\n\t\t\tthis.fetch(resource, callback)\n\t\t}\n\t}\n\t\n\tfetch(path, callback) {\n\t\tif (this.instances[path]) {\n\t\treturn this.instances[path]\n\t\t} else {\n\t\t\tlet img = new Image()\n\t\t\timg.onload = () => {\n\t\t\t\tthis.instances[path] = img\n\t\t\t\tthis.ready(callback)\n\t\t\t}\n\t\t\timg.src = path;\n\t\t}\n\t}\n\t\n\tready(callback) {\n\t\tif (typeof callback === 'function') {\n\t\tlet ready = true;\n\t\tfor (let item in this.instances) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(this.instances, item) && !this.instances[item]) {\n\t\t\t\tready = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (ready) callback();\n\t\t}\n\t}\n}\n\n//# sourceURL=webpack:////storage/sdcard0/.htdocs/craters-beta/craters/Modules/Assets/Image.js?");

/***/ }),

/***/ "../../craters/System.js":
/*!***************************************************************!*\
  !*** /storage/sdcard0/.htdocs/craters-beta/craters/System.js ***!
  \***************************************************************/
/*! exports provided: Loop, Canvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Loop\", function() { return Loop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Canvas\", function() { return Canvas; });\n// Game Loop Module\n// This module contains the game loop, which handles\n// updating the game state and re-rendering the canvas\n// (using the updated state) at the configured tframe.\nclass Loop {\n    constructor(scope, tframe) {\n        var loop = {\n            delta: (1000 / tframe),\n            elapsed: 0,\n            tframe: (1000 / tframe),\n            nframe: tframe,\n            before: window.performance.now()\n        }\n        // Initialize timer variables so we can calculate tframe\n        // Main game rendering loop\n        loop.main = function() {\n            loop.startLoop = window.requestAnimationFrame(loop.main)\n            loop.delta = Math.round(((1000 / (window.performance.now() - loop.before) * 100) / 100))\n\n            if (window.performance.now() < loop.before + loop.tframe) return\n            loop.before = window.performance.now()\n            // Request a new Animation Frame\n            // setting to `stopLoop` so animation can be stopped via\n            loop.stopLoop = () => {\n                window.cancelAnimationFrame(loop.startLoop)\n            }\n            // update scope\n            if(scope.state)\n            scope.state.loop = loop;\n\n            // Update the game state\n            scope.update(loop.elapsed, loop.delta)\n            // Render the next frame\n            scope.render(loop.elapsed, loop.delta)\n            loop.elapsed++\n        }\n\n        // Start off main loop\n        loop.main()\n        return loop\n    }\n}\n\nclass Canvas {\n    constructor(width, height, container) {\n        container = document.querySelector(container || 'body')\n        // Generate a canvas and store it as our viewport\n        var canvas = document.createElement('canvas')\n        var context = canvas.getContext('2d')\n        // Pass our canvas' context to our getPixelRatio method\n        var backingStores = ['webkitBackingStorePixelRatio', 'mozBackingStorePixelRatio', 'msBackingStorePixelRatio', 'oBackingStorePixelRatio', 'backingStorePixelRatio']\n        var deviceRatio = window.devicePixelRatio\n        // Iterate through our backing store props and determine the proper backing ratio.\n        var backingRatio = backingStores.reduce(function(prev, curr) {\n            return (Object.prototype.hasOwnProperty.call(context, curr) ? context[curr] : 1)\n        })\n        // Return the proper pixel ratio by dividing the device ratio by the backing ratio\n        var ratio = deviceRatio / backingRatio\n\n        // Set the canvas' width then downscale via CSS\n        canvas.width = Math.round(width * ratio)\n        canvas.height = Math.round(height * ratio)\n        canvas.style.width = width + 'px'\n        canvas.style.height = height + 'px'\n        // Scale the context so we get accurate pixel density\n        context.setTransform(ratio, 0, 0, ratio, 0, 0)\n        // Append viewport into our game within the dom\n        container.insertBefore(canvas, container.firstChild)\n        canvas.context = canvas.getContext('2d')\n\n        canvas.resize = (scope, size) => {\n            canvas.style.width = size.x + 'px'\n            canvas.style.height = size.y + 'px'\n            canvas.width = Math.round(size.x * ratio)\n            canvas.height = Math.round(size.y * ratio)\n            context.setTransform(ratio, 0, 0, ratio, 0, 0)\n\n            scope.state.size.x = size.x\n            scope.state.size.y = size.y\n        }\n\n        canvas.clear = (v, w, x, y, z) => {\n            v = v || null\n            w = w || 0\n            x = x || 0\n            y = y || canvas.width\n            z = z || canvas.height\n\n            if (v) { // clear with color if true\n                canvas.context.save();\n                canvas.context.fillStyle = v;\n                canvas.context.fillRect(w, x, y, z)\n                canvas.context.fill();\n                canvas.context.restore();\n            } else {\n                canvas.context.clearRect(w, x, y, z)\n            };\n        }\n\n        canvas.camera = (x, y) => {\n            canvas.context.setTransform(1, 0, 0, 1, 0, 0) // reset the transform matrix\n            canvas.context.translate(-x, -y)\n        }\n\n        return canvas // return the canvas\n    }\n}\n\n//# sourceURL=webpack:////storage/sdcard0/.htdocs/craters-beta/craters/System.js?");

/***/ }),

/***/ "./game.js":
/*!*****************!*\
  !*** ./game.js ***!
  \*****************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _craters_System_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../craters/System.js */ \"../../craters/System.js\");\n/* harmony import */ var _craters_Modules_Assets_Image_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../craters/Modules/Assets/Image.js */ \"../../craters/Modules/Assets/Image.js\");\n\n\n\n\n\nclass Sprite {\n    constructor(image, canvas) {\n\t    this.size = {\n\t\t   x: 196,\n\t\t   y: 218\n\t    }\n\t    this.pos = {\n\t\t    x: 50,\n\t\t    y: 50\n\t    }\n\t    this.image = image;\n\t    this.viewport = canvas;\n\t    this.context = canvas.context;\n\t\tlet width = canvas.width;\n\t\tlet height = canvas.height;\n\t\tthis.grid = new Array();\n\t\t\n\t\tfor(let w = 0; w < width; w+=this.size.x){\n\t\t\tfor(let h = 0; h < height; h+=this.size.y){\n\t\t\t\tthis.grid.push({x: w, y: h})\n\t\t\t}\n\t\t}\n\t\tconsole.log(JSON.stringify(this.grid))\n\t\t// default anim strip\n\t\tthis.animation = {frames: [0,1,3,4]}\n    }\n\n    update() {\n        this.frame = this.animation.frames.shift()\n        this.animation.frames.push(this.frame)\n    }\n\n    render() {\n\t    this.viewport.clear()\n        let frame = this.frame;\n        this.context.drawImage(this.image,\n        this.grid[frame].x, this.grid[frame].y, this.size.x, this.size.y,\n        this.pos.x, this.pos.y, this.size.x, this.size.y)\n    }\n}\n\nlet sprite = new _craters_Modules_Assets_Image_js__WEBPACK_IMPORTED_MODULE_1__[\"loadImage\"]()\nlet image = sprite.load('./bug.png', () => {\n\tlet game = new _craters_System_js__WEBPACK_IMPORTED_MODULE_0__[\"Loop\"]( new Sprite(sprite.fetch('./bug.png'), new _craters_System_js__WEBPACK_IMPORTED_MODULE_0__[\"Canvas\"](window.innerWidth, window.innerHeight, '#container')), 60)\n})\n\n//# sourceURL=webpack:///./game.js?");

/***/ })

/******/ });