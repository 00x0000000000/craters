{"code":"!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";var i=n(1);new class extends i.game{init(){super.init();var t=this,e=this.constants.width;this.constants.hieght,t.state.entities.comet=new class extends i.entity{constructor(t){super(),this.name=t}update(){this.state.position.x+=Math.random()-.5,this.state.position.y+=Math.random()-.5}render(){t.context.save(),t.context.font=\"64px Impact\",t.context.fillText(\"☄️\",10+this.state.position.x,e/2+this.state.position.x,e),t.context.font=\"32px Impact\",t.context.fillText(\"It's working.️\",65,e/2,e),t.context.restore()}}(\"f18\")}}(\"#container\",window.innerWidth,window.innerHeight,60,!0).init()},function(t,e){!function(e){\"use strict\";e.cg={version:\"1.0.1\"},cg.game=class{constructor(t,e,n,i,r){this.container=t,this.constants={width:e,height:n,frames:i,debug:r},this.state={entities:{}},this.init()}init(){this.viewport=class{static getPixelRatio(t){console.log(\"Determining pixel ratio.\");var n=e.devicePixelRatio,i=[\"webkitBackingStorePixelRatio\",\"mozBackingStorePixelRatio\",\"msBackingStorePixelRatio\",\"oBackingStorePixelRatio\",\"backingStorePixelRatio\"].reduce(function(e,n){return t.hasOwnProperty(n)?t[n]:1});return n/i}static generateCanvas(t,e){console.log(\"Generating canvas.\");var n=document.createElement(\"canvas\"),i=n.getContext(\"2d\"),r=this.getPixelRatio(i);return n.width=Math.round(t*r),n.height=Math.round(e*r),n.style.width=t+\"px\",n.style.height=e+\"px\",i.setTransform(r,0,0,r,0,0),n}}.generateCanvas(this.constants.width,this.constants.height),this.viewport.id=\"gameViewport\",this.context=this.viewport.getContext(\"2d\"),this.container=document.querySelector(this.container),this.container.insertBefore(this.viewport,this.container.firstChild),this.update=new n(this),this.render=new i(this),this.loop=new r(this)}},cg.entity=class{constructor(){this.state={position:{x:0,y:0}}}update(){}render(){}},cg.class=class{constructor(){this.init()}init(){}update(){}render(){}};class n{constructor(t){return this.update(t)}update(t){return function(e){var n=t.state||{};if(n.hasOwnProperty(\"entities\")){var i=n.entities;for(var r in i)i[r].update()}return n}}}class i{constructor(t){return this.render(t)}render(t){var e=t.constants.width,n=t.constants.height;return function(){if(t.context.clearRect(0,0,e,n),t.constants.debug&&(t.context.fillStyle=\"#ff0\",t.context.fillText(\"fps : \"+t.loop.fps,e-100,50)),t.state.hasOwnProperty(\"entities\")){var i=t.state.entities;for(var r in i)i[r].render()}}}}class r{constructor(t){return this.loop(t)}loop(t){var n={},i=t.constants.frames,r=1e3/i,o=e.performance.now(),s={new:{frameCount:0,startTime:o,sinceStart:0},old:{frameCount:0,startTime:o,sineStart:0}},a=\"new\";return n.fps=0,n.main=function(c){n.stopLoop=e.requestAnimationFrame(n.main);var u,l,f=c,h=f-o;if(h>r){for(var d in o=f-h%r,s)++s[d].frameCount,s[d].sinceStart=f-s[d].startTime;u=s[a],n.fps=Math.round(1e3/(u.sinceStart/u.frameCount)*100)/100,l=s.new.frameCount===s.old.frameCount?5*i:10*i,u.frameCount>l&&(s[a].frameCount=0,s[a].startTime=f,s[a].sinceStart=0,a=\"new\"===a?\"old\":\"new\"),t.state=t.update(f),t.render()}},n.main(),n}}t.exports=cg}(window)}]);","extractedComments":[]}